‚úÖ –î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å (–æ—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏)

üë§ User
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–µ—Ä–≤–∏—Å–∞
–ü–æ–ª—è:

id: int

email: str

hashed_password: str

üìà Prediction
–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞ ML-–º–æ–¥–µ–ª–∏
–ü–æ–ª—è:

id: int

value: float ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

timestamp: datetime ‚Äî –≤—Ä–µ–º—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è


–ö–ª–∞—Å—Å MLService 
–ê—Ç—Ä–∏–±—É—Ç—ã 
-–ú–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–µ–¥–∏–∫—Ç–∞ 
-–ü–æ—Å–ª–µ–¥–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
-–í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
–ú–µ—Ç–æ–¥—ã 
-get_prediction() - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è


‚úÖ –°–£–ë–î 
–í docker-compose.yml  –ø–æ–¥–Ω—è—Ç —Å–µ—Ä–≤–∏—Å db, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ postgres:14
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å FastAPI (backend) –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –Ω–µ–º—É.
–î–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ë–î –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQL Alchemy

‚úÖ REST –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å 

POST /register  -  —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

POST /token - –ª–æ–≥–∏–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞.

 GET /prediction - –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏.

 GET /prediction/history -  –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π (–¥–æ 2000 –∑–∞–ø–∏—Å–µ–π).


‚úÖ  –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞

–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
![image](https://github.com/user-attachments/assets/251cf520-3293-444f-ac75-81b86b2a4593)

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
![image](https://github.com/user-attachments/assets/b9315fd8-17f6-464f-88fd-a783c8d26a34)


–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç 
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É —Ç–µ–º–Ω–æ–π –∏ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–æ–π
- –¢–µ–∫—É—â–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –∑–µ–ª–µ–Ω—ã–º (–±–æ–ª—å—à–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ) , –∫—Ä–∞—Å–Ω—ã–º (–º–µ–Ω—å—à–µ), –∂–µ–ª—Ç—ã–º (—Ç–∞–∫–æ–µ –∂–µ)
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –±—É–¥–µ—Ç –ø—É—Å—Ç–∞, –Ω–æ –±—É–¥–µ—Ç –ø–æ–ø–æ–ª–Ω—è—Ç—å—Å—è –∏ —Ö—Ä–∞–Ω–∏—Ç –¥–æ 2000 –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
- –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏ –≤ .csv / –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –µ–µ.
- –ï—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞ –ø–æ—Å–ª –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é/30 –¥–Ω–µ–π
- –ï—Å—Ç—å –≥—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏.
- –ï—Å—Ç—å —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –∑–∞ –¥–µ–Ω—å/7/30
- –ú–æ–∂–Ω–æ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ 
![image](https://github.com/user-attachments/assets/035442cf-c78f-4748-b951-4b18caf06d74)

‚úÖ  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
–°–µ—Ä–≤–∏—Å —É–ø–∞–∫–æ–≤–∞–Ω –≤ –¥–æ–∫–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å:
docker-compose build
docker-compose up

‚úÖ  –í–æ—Ä–∫–µ—Ä—ã RabbitMQ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞–±–ª–∏—à–µ—Ä –∏ –≤–æ—Ä–∫–µ—Ä—ã —Å rabbitmq. –í–æ—Ä–∫–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–±–∏—Ä–∞–Ω–∏—è —Ñ–∏—á–µ–π –∏ –¥–µ–ª–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–∫–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ docker-compose , —Å –≤–æ–∑–º–æ–∂–Ω—ã–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–µ—Ä–µ–∑ num_workers (—è –Ω–µ —É–∫–∞–∑—ã–≤–∞–ª —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä, –Ω–æ –∑–Ω–∞—é —á—Ç–æ –æ–Ω –µ—Å—Ç—å).
–ü–∞–±–ª–∏—à–µ—Ä - —Ñ—É–Ω–∫—Ü–∏—è , –∫–æ—Ç–æ—Ä—É—é —è "–ø—Ä–∏–∫—Ä—É—Ç–∏–ª" –≤ –∞–ø–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª –≤ –æ—á–µ—Ä–µ–¥—å –æ —Ç–æ–º, —á—Ç–æ –Ω–∞–¥–æ –±—ã –Ω–∞—á–∏–Ω–∞—Ç—å —Å–æ–±–∏—Ä–∞—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ñ–∏—á–∞—Ö –∏ –¥–µ–ª–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ

–ü–∞–±–ª–∏—à–µ—Ä –ª–µ–∂–∏—Ç –≤ /app/publisher.py
–í–æ—Ä–∫–µ—Ä –≤ /rabbitmq


‚úÖ –¢–µ—Å—Ç—ã
1. test_register
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

2. test_login_and_get_token
–í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Ö–æ–¥ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—ã–¥–∞–Ω –≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω.

3. test_prediction_endpoints
–ê–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è (/prediction) –∏ –∏—Å—Ç–æ—Ä–∏–∏ (/prediction/history).

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É JSON-–æ—Ç–≤–µ—Ç–æ–≤.

–ó–∞–ø—É—Å–∫:
cd tests
pytest -q 
